

# Linux >> Certs
- openssl x509 -inform der -in burp.der -out burp.pem
- openssl x509 -inform PEM -subject_hash_old -in burp.pem|head -1

# android
- mv 9a5ba575.0 /system/etc/security/cacerts/.
- chmod 644 9a5ba575.0
- chown root:root 9a5ba575.0

# Remount
- mount -o rw,remount /system	
- /system/etc/security/cacerts

# Devices architech check
- adb shell getprop ro.product.cpu.abi
  or can also use when interact with the shell:
  - getprop | grep abi
  - getprop ro.product.cpu.abilist

# adb instruction
	Running adb through wifi:
		- Set port: adb tcpip <port>
		- Connect: adb connect <IP_Address>:<port>
		- Port forwarding for frida: adb forward tcp:<local_port> tcp:<remote_port> 
		- Default port for frida: 27042

# Install Frida on Windows/Linux
pip install objections,frida 
 
# Frida
	Running frida-server: ./frida-server-16.0.2-android-arm64
	Running Root check bypassing: 
		- frida -U -f vn.senpay -l frida_bypass_rootcheck.js
		- frida --codeshare dzonerzy/fridantiroot -f vn.senpay
	Frida through wireless:
		- ./frida-server -l 0.0.0.0:8877
		- frida -H <IP_Address>:8877 -f <binary> -l <javascript_script> -D 
			# note that "-D" option meant Deamon (also known as thread)

# Certs
- Convert from DER (binaries) format to PEM (Readable):
	`openssl x509 -in <User_cert_der> -outform pem -out <output_file>`

- Convert Certificate to RSA Public Key:
	`openssl x509 -in <Certificate_pem> -pubkey -noout -pubin -RSAPublicKey_out -out <outfile.pem>`

- Convert Public Key (PEM to DER):
	`openssl rsa -pubin -inform pem -in <public_key> -outform der -out <public_key.der>`
	
- Re-generate Public key from rsa
	`openssl rsa -in <private_key> -pubout -out <public_key>`
	
# References
- https://stackoverflow.com/questions/13089694/adb-remount-permission-denied-but-able-to-access-super-user-in-shell-android
- https://whitehat.vn/threads/nhap-mon-pentest-mobile-bypass-check-root-tren-thiet-bi-android.14516
- https://www.youtube.com/watch?v=Jg4hyZfFTdc
- https://codeshare.frida.re/@dzonerzy/fridantiroot/
- https://frida.re/docs/gadget/
- https://flippingbitz.com/post/2018-09-21-objection-remote-device-app-hook/
